"use strict";var e=require("react"),o=require("@nivo/core"),r=require("@nivo/axes"),t=require("@nivo/legends"),i=require("@react-spring/web"),n=require("@nivo/tooltip"),l=require("react/jsx-runtime"),a=require("d3-shape"),d=require("@nivo/theming"),s=require("@nivo/colors"),u=require("@nivo/scales");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},c.apply(null,arguments)}function f(e,o){if(null==e)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==o.indexOf(t))continue;r[t]=e[t]}return r}var h=function(r){var t=r.layer,a=r.fillOpacity,d=r.borderWidth,s=r.getBorderColor,u=r.isInteractive,c=r.tooltip,f=n.useTooltip(),h=f.showTooltipFromEvent,p=f.hideTooltip,v=e.useCallback((function(o){h(e.createElement(c,{layer:t}),o,"left")}),[h,c,t]),g=o.useMotionConfig(),m=g.animate,y=g.config,x=o.useAnimatedPath(t.path),b=i.useSpring({color:t.color,config:y,immediate:!m});return l.jsx(i.animated.path,{d:x,fill:t.fill?t.fill:b.color,fillOpacity:a,stroke:s(t),strokeWidth:d,onMouseMove:u?v:void 0,onMouseEnter:u?v:void 0,onMouseLeave:u?p:void 0})},p=function(e){var o=e.layers,r=e.fillOpacity,t=e.borderWidth,i=e.getBorderColor,n=e.isInteractive,a=e.tooltip;return l.jsx("g",{children:o.map((function(e,o){return l.jsx(h,{layer:e,getBorderColor:i,borderWidth:t,fillOpacity:r,isInteractive:n,tooltip:a},o)}))})},v=function(e,o){var r=e.y2;return"center"===o?r=e.y1+(e.y2-e.y1)/2:"start"===o&&(r=e.y1),r},g=function(o){var r=o.data,t=o.dotComponent,i=o.position,n=o.getSize,a=o.getColor,d=o.getBorderWidth,s=o.getBorderColor;return l.jsx(l.Fragment,{children:r.map((function(o,r){return e.createElement(t,{key:r,datum:o,x:o.x,y:v(o,i),size:n(o),color:a(o),borderWidth:d(o),borderColor:s(o)})}))})},m=function(o){var r=o.slice,t=o.height,i=o.tooltip,a=e.useState(!1),d=a[0],s=a[1],u=n.useTooltip(),c=u.showTooltipFromEvent,f=u.hideTooltip,h=e.useCallback((function(o){s(!0),c(e.createElement(i,{slice:r}),o,"left")}),[s,c,i,r]),p=e.useCallback((function(){s(!1),f()}),[s,f]);return l.jsxs("g",{transform:"translate("+r.x+", 0)",children:[d&&l.jsx("line",{x1:0,x2:0,y1:0,y2:t,stroke:"#000",strokeOpacity:.35,strokeWidth:1}),l.jsx("rect",{x:-20,width:40,height:t,fill:"#000",fillOpacity:0,onMouseEnter:h,onMouseMove:h,onMouseLeave:p})]})},y=function(e){var o=e.slices,r=e.height,t=e.tooltip;return l.jsx("g",{children:o.map((function(e){return l.jsx(m,{slice:e,height:r,tooltip:t},e.index)}))})},x={label:"id",order:"none",offsetType:"wiggle",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableDots:!1,dotPosition:"center",dotComponent:function(e){var r=e.x,t=e.y,n=e.size,a=e.color,d=e.borderWidth,s=e.borderColor,u=o.useMotionConfig(),c=u.animate,f=u.config,h=i.useSpring({x:r,y:t,radius:.5*n,color:a,config:f,immediate:!c});return l.jsx(i.animated.circle,{cx:h.x,cy:h.y,r:h.radius,fill:h.color,strokeWidth:d,stroke:s})},dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var o=e.layer;return l.jsx(n.BasicTooltip,{id:o.label,enableChip:!0,color:o.color})},enableStackTooltip:!0,stackTooltip:function(o){var r=o.slice,t=e.useMemo((function(){return r.stack.map((function(e){return[l.jsx(n.Chip,{color:e.color},e.layerId),e.layerLabel,e.formattedValue]}))}),[r]);return l.jsx(n.TableTooltip,{rows:t})},legends:[],legendLabel:"id",role:"application"},b=c({},x,{layers:["grid","axes","layers","dots","slices","legends"],defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),C=function(r){var t=r.width,i=r.height,n=r.data,l=r.keys,f=r.label,h=void 0===f?x.label:f,p=r.valueFormat,v=r.offsetType,g=void 0===v?x.offsetType:v,m=r.order,y=void 0===m?x.order:m,b=r.curve,C=void 0===b?x.curve:b,B=r.colors,S=void 0===B?x.colors:B,W=r.borderColor,j=void 0===W?x.borderColor:W,k=r.dotSize,M=void 0===k?x.dotSize:k,T=r.dotColor,w=void 0===T?x.dotColor:T,I=r.dotBorderWidth,O=void 0===I?x.dotBorderWidth:I,z=r.dotBorderColor,D=void 0===z?x.dotBorderColor:z,L=o.useCurveInterpolation(C),R=e.useMemo((function(){return a.area().x((function(e){return e.x})).y0((function(e){return e.y1})).y1((function(e){return e.y2})).curve(L)}),[L]),F=e.useMemo((function(){return a.stack().keys(l).offset(o.stackOffsetFromProp(g)).order(o.stackOrderFromProp(y))}),[l,g,y]),P=e.useMemo((function(){var e=[],o=[],r=F(n).map((function(r){return r.map((function(t){return e.push(t[0]),o.push(t[1]),c({},t,{value:t.data[r.key]})}))})),l=Math.min.apply(Math,e),a=Math.max.apply(Math,o);return[r,u.createPointScale({type:"point"},{all:Array.from({length:n.length},(function(e,o){return o})),min:0,max:n.length},t),u.createLinearScale({type:"linear",min:l},{all:[l,a],min:l,max:a},i,"y")]}),[F,n,t,i]),q=P[0],E=P[1],G=P[2],H=d.useTheme(),A=s.useOrdinalColorScale(S,"id"),V=s.useInheritedColor(j,H),X=e.useMemo((function(){return"function"==typeof M?M:function(){return M}}),[M]),Y=s.useInheritedColor(w,H),J=e.useMemo((function(){return"function"==typeof O?O:function(){return O}}),[O]),K=s.useInheritedColor(D,H),N=o.usePropertyAccessor(h),Q=o.useValueFormatter(p),U=e.useMemo((function(){return q.map((function(e,o){var r=e.map((function(e,r){return{layerId:l[o],layerLabel:"",index:r,color:"",x:E(r),value:e.value,formattedValue:Q(e.value),y1:G(e[0]),y2:G(e[1])}})),t={id:l[o],path:R(r)},i=c({},t,{label:N(t),color:A(t)});return c({},i,{data:r.map((function(e){return e.layerLabel=i.label,e.color=i.color,e}))})}))}),[q,l,N,R,A,E,G,Q]),Z=e.useMemo((function(){return Array.from({length:n.length},(function(e,o){var r=U.map((function(e){return e.data[o]})).sort((function(e,o){return e.y2-o.y2}));return{index:o,x:U[0].data[o].x,stack:r}}))}),[n.length,U]),$=e.useMemo((function(){return{xScale:E,yScale:G,layers:U,slices:Z}}),[E,G,U,Z]);return{xScale:E,yScale:G,layers:U,slices:Z,getBorderColor:V,getDotSize:X,getDotColor:Y,getDotBorderWidth:J,getDotBorderColor:K,layerContext:$}},B=["isInteractive","animate","motionConfig","theme","renderWrapper"],S=function(i){var n=i.data,a=i.keys,d=i.label,s=i.valueFormat,u=i.offsetType,f=i.order,h=i.curve,v=i.layers,m=void 0===v?b.layers:v,x=i.width,B=i.height,S=i.margin,W=i.axisTop,j=i.axisRight,k=i.axisBottom,M=void 0===k?b.axisBottom:k,T=i.axisLeft,w=void 0===T?b.axisLeft:T,I=i.enableGridX,O=void 0===I?b.enableGridX:I,z=i.enableGridY,D=void 0===z?b.enableGridY:z,L=i.colors,R=i.fillOpacity,F=void 0===R?b.fillOpacity:R,P=i.borderWidth,q=void 0===P?b.borderWidth:P,E=i.borderColor,G=i.defs,H=void 0===G?b.defs:G,A=i.fill,V=void 0===A?b.fill:A,X=i.enableDots,Y=void 0===X?b.enableDots:X,J=i.dotPosition,K=void 0===J?b.dotPosition:J,N=i.dotComponent,Q=void 0===N?b.dotComponent:N,U=i.dotSize,Z=i.dotColor,$=i.dotBorderWidth,_=i.dotBorderColor,ee=i.isInteractive,oe=void 0===ee?b.isInteractive:ee,re=i.tooltip,te=void 0===re?b.tooltip:re,ie=i.enableStackTooltip,ne=void 0===ie?b.enableStackTooltip:ie,le=i.stackTooltip,ae=void 0===le?b.stackTooltip:le,de=i.legends,se=void 0===de?b.legends:de,ue=i.role,ce=i.ariaLabel,fe=i.ariaLabelledBy,he=i.ariaDescribedBy,pe=i.forwardedRef,ve=o.useDimensions(x,B,S),ge=ve.margin,me=ve.innerWidth,ye=ve.innerHeight,xe=ve.outerWidth,be=ve.outerHeight,Ce=C({width:me,height:ye,data:n,keys:a,label:d,valueFormat:s,offsetType:u,order:f,curve:h,colors:L,borderColor:E,dotSize:U,dotColor:Z,dotBorderWidth:$,dotBorderColor:_}),Be=Ce.xScale,Se=Ce.yScale,We=Ce.layers,je=Ce.slices,ke=Ce.getBorderColor,Me=Ce.getDotSize,Te=Ce.getDotColor,we=Ce.getDotBorderWidth,Ie=Ce.getDotBorderColor,Oe=Ce.layerContext,ze=o.bindDefs(H,We,V),De={grid:null,axes:null,layers:null,dots:null,slices:null,legends:null};return m.includes("grid")&&(De.grid=l.jsx(r.Grid,{width:me,height:ye,xScale:O?Be:null,yScale:D?Se:null},"grid")),m.includes("axes")&&(De.axes=l.jsx(r.Axes,{xScale:Be,yScale:Se,width:me,height:ye,top:W,right:j,bottom:M,left:w},"axes")),m.includes("layers")&&(De.layers=l.jsx(p,{layers:We,fillOpacity:F,borderWidth:q,getBorderColor:ke,isInteractive:oe,tooltip:te},"layers")),m.includes("dots")&&Y&&(De.dots=l.jsx(e.Fragment,{children:We.map((function(e){return l.jsx(g,{id:e.id,color:e.color,data:e.data,dotComponent:Q,position:K,getSize:Me,getColor:Te,getBorderWidth:we,getBorderColor:Ie},e.id)}))},"dots")),m.includes("slices")&&oe&&ne&&(De.slices=l.jsx(y,{slices:je,height:ye,tooltip:ae},"slices")),m.includes("legends")&&(De.legends=l.jsx(e.Fragment,{children:se.map((function(e,o){var r=We.map((function(e){return{id:e.id,label:e.label,color:e.color,fill:e.fill}})).reverse();return l.jsx(t.BoxLegendSvg,c({},e,{containerWidth:me,containerHeight:ye,data:r}),o)}))},"legends")),l.jsx(o.SvgWrapper,{width:xe,height:be,margin:ge,defs:ze,role:ue,ariaLabel:ce,ariaLabelledBy:fe,ariaDescribedBy:he,ref:pe,children:m.map((function(o,r){var t;return"function"==typeof o?l.jsx(e.Fragment,{children:e.createElement(o,Oe)},r):null!=(t=null==De?void 0:De[o])?t:null}))})},W=e.forwardRef((function(e,r){var t=e.isInteractive,i=void 0===t?b.isInteractive:t,n=e.animate,a=void 0===n?b.animate:n,d=e.motionConfig,s=void 0===d?b.motionConfig:d,u=e.theme,h=e.renderWrapper,p=f(e,B);return l.jsx(o.Container,{animate:a,isInteractive:i,motionConfig:s,renderWrapper:h,theme:u,children:l.jsx(S,c({},p,{isInteractive:i,forwardedRef:r}))})})),j=["defaultWidth","defaultHeight","onResize","debounceResize"],k=e.forwardRef((function(e,r){var t=e.defaultWidth,i=e.defaultHeight,n=e.onResize,a=e.debounceResize,d=f(e,j);return l.jsx(o.ResponsiveWrapper,{defaultWidth:t,defaultHeight:i,onResize:n,debounceResize:a,children:function(e){var o=e.width,t=e.height;return l.jsx(W,c({},d,{width:o,height:t,ref:r}))}})}));exports.ResponsiveStream=k,exports.Stream=W,exports.defaultProps=x,exports.svgDefaultProps=b;
//# sourceMappingURL=nivo-stream.cjs.js.map
